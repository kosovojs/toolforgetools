<!DOCTYPE HTML>
<html><head>
<META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title tt="toolname">Todo</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="https://tools-static.wmflabs.org/cdnjs/ajax/libs/twitter-bootstrap/4.0.0/css/bootstrap.min.css">
<link rel="stylesheet" href="https://tools-static.wmflabs.org/magnustools/resources/html/wikimedia.css">
<link rel="stylesheet" href="https://tools-static.wmflabs.org/cdnjs/ajax/libs/leaflet/1.3.1/leaflet.css">
<script src="https://tools-static.wmflabs.org/cdnjs/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://tools-static.wmflabs.org/cdnjs/ajax/libs/twitter-bootstrap/4.0.0/js/bootstrap.bundle.min.js"></script>
<script src="https://tools-static.wmflabs.org/cdnjs/ajax/libs/vue/2.5.13/vue.min.js"></script>
<script src="https://tools-static.wmflabs.org/cdnjs/ajax/libs/vue-router/3.0.1/vue-router.min.js"></script>
<script src="https://unpkg.com/@trevoreyre/autocomplete-js"></script>
</head>

<body>
	<div id='app'>
		<input style="width:300px;" v-model="izveletais">
		<br />
		<textarea style="width:300px;" v-model="comment"></textarea>
		<br />
		<button class="btn" v-on:click="saveToDB">Saglabāt</button>
		<button class="btn" v-on:click="clean">Notīrīt</button>

	</div>
</body>
<style>
	#app {
		margin: 5vw;
	}
</style>

<script>
	var app = new Vue({
	  // app initial state
	  data: {
		todolist: [],
		izveletais: '',
		comment: ''
	  },
		mounted(){
			this.init()
		},
		
	  methods: {
		init: () => {
			//console.log('ddssds')

			//createAutocomplete('.debounced', '.count-debounced', 500, this.izveletais)
		},
		clean: function () {
			this.izveletais = '';
			this.comment = '';
		},
		saveToDB: function (event) {
			const {izveletais, comment} = this;

			fetch('save.php', {
				method: 'POST',
				headers: {
				  'Content-Type': 'application/json;charset=utf-8'
				},
				body: JSON.stringify({izveletais, comment})
			  }).then(resp => resp.json())
			  .then(res => {
				  if (res.status === 'ok') {
					alert('done');
					this.clean();
				  }
			  });
		  }
	  }
	});
	
	app.$mount("#app");
</script>

</html>