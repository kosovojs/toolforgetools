{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/App/styles.module.css","webpack:///./src/api/error.js","webpack:///./src/config.js","webpack:///./src/api/formatURL.js","webpack:///./src/api/api.js","webpack:///./src/api/methods.js","webpack:///./src/components/Suggestion/index.js","webpack:///./src/components/App/main.js","webpack:///./src/components/App/ErrorBoundary.js","webpack:///./src/components/App/appSlice.js","webpack:///./src/components/App/container.js","webpack:///./src/components/App/component.js","webpack:///./src/components/Article/articleSlice.js","webpack:///./src/reducer.js","webpack:///./src/index.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","ApiError","message","status","response","isObject","JSON","parse","e","this","toast","error","toString","autoClose","stringify","API_URL","formatURL","url","params","base","substr","obj","queryString","keys","reduce","a","k","encodeURIComponent","join","fetchResource","path","userOptions","defaultOptions","defaultHeaders","bodyMethods","options","headers","method","toLowerCase","isFile","body","File","indexOf","fetch","then","responseObject","text","json","parsedResponse","post","apiWrapper","mediawiki","linksHere","title","action","origin","format","prop","titles","lhprop","lhnamespace","lhlimit","formatversion","openSearch","lang","search","namespace","limit","suggest","tool","nextArticle","saveArticle","redirect","from","to","Diff","require","titleForURL","replace","formattedTitle","getTextDiff","first","second","diff","timeout","textDiff","main","prettyHtml","articleLink","href","target","rel","Suggestion","props","setState","loading","api","res","suggestion","targets","map","entry","setLinks","setSearch","err","page","query","pages","links","article","whatLinksHere","saveData","results","saving","state","success","console","log","warn","init","previews","saves","style","display","flexDirection","minWidth","type","className","onClick","marginLeft","flexWrap","dangerouslySetInnerHTML","__html","createRedirect","link","Component","mainCom","padding","ErrorBoundary","errorInfo","whiteSpace","componentStack","children","React","propTypes","PropTypes","node","appSlice","createSlice","initialState","isAuth","user","articles","lastArticleDate","reducers","setOverview","reducer","payload","count","date","prepare","setAuthUser","logout","actions","App","position","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnVisibilityChange","draggable","pauseOnHover","articleSlice","id","fetching","fromList","getNextArticle","setFetchStart","setComingFromArticleList","newState","setSaveProcess","resetCounter","setTitle","combineReducers","articleReducer","app","appReducer","store","configureStore","rootReducer","ReactDOM","render","document","getElementById"],"mappings":"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","file":"js/main.d5452ffc39410d68ddd0.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([44,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"_3VgU3tP7z49cwgMoqOCbUB\"};","import { toast } from 'react-toastify';\r\n\r\nfunction ApiError(message, data, status) {\r\n  let response = null;\r\n  let isObject = false;\r\n\r\n  // We are trying to parse response\r\n  try {\r\n    response = JSON.parse(data);\r\n    isObject = true;\r\n  } catch (e) {\r\n    response = data;\r\n  }\r\n\r\n  this.response = response;\r\n  this.message = message;\r\n  this.status = status;\r\n\r\n  toast.error(`Serveris atgrieza kļūdu: ${this.toString()}`, {autoClose:10000});\r\n\r\n  this.toString = function() {\r\n    return `${this.message}\\nResponse:\\n${\r\n      isObject ? JSON.stringify(this.response, null, 2) : this.response\r\n    }`;\r\n  };\r\n}\r\n\r\nexport default ApiError;\r\n","const isDev = process.env.NODE_ENV === 'development';\r\n\r\nexport const API_URL = '//edgars.toolforge.org/rlr/api.php';//isDev ? '//tools.wmflabs.org/edgars/npp2/api/index.php' : '//tools.wmflabs.org/assessor/api/index.php';\r\n","import {API_URL} from '../config';\r\n\r\nfunction serialize( obj ) {\r\n    let str = '?'+ Object.keys(obj).reduce(function(a, k){\r\n        a.push(k + '=' + encodeURIComponent(obj[k]));\r\n        return a;\r\n    }, []).join('&');\r\n    return str;\r\n}\r\n\r\nfunction formatURL(url, params) {\r\n\tlet base = '';\r\n\r\n\tif (url.substr(0, 4) == 'http') {\r\n\t\tbase = url;\r\n\t} else if (API_URL !== url.substr(0, API_URL.length)) {\r\n\t\tbase = API_URL + url;\r\n\t}\r\n\r\n\tconst queryString = typeof params === 'undefined' || Object.keys(params).length === 0 ? '' : serialize(params);\r\n\r\n\treturn `${base}${queryString}`;\r\n}\r\n\r\nexport default formatURL;\r\n","import ApiError from './error';\r\nimport formatURL from './formatURL';\r\n\r\nconst fetchResource = (path, userOptions = {}) => {\r\n\t// Define default options\r\n\tconst defaultOptions = {};\r\n\t// Define default headers\r\n\tconst defaultHeaders = {};\r\n\tconst bodyMethods = ['post', 'put', 'patch'];\r\n\r\n\tconst options = {\r\n\t\t// Merge options\r\n\t\t...defaultOptions,\r\n\t\t...userOptions,\r\n\t\t// Merge headers\r\n\t\theaders: {\r\n\t\t\t...defaultHeaders,\r\n\t\t\t...userOptions.headers\r\n\t\t}\r\n\t};\r\n\r\n\toptions.method = options.method.toLowerCase();\r\n\r\n\t// Detect is we are uploading a file\r\n\tconst isFile = options.body instanceof File;\r\n\r\n\t// Stringify JSON data\r\n\t// If body is not a file\r\n\tif (\r\n\t\toptions.body &&\r\n\t\ttypeof options.body === 'object' &&\r\n\t\t!isFile &&\r\n\t\tbodyMethods.indexOf(options.method) > -1\r\n\t) {\r\n\t\toptions.body = JSON.stringify(options.body);\r\n\t}\r\n\r\n\t// Build Url\r\n\tconst url = formatURL(path, options.params);\r\n\r\n\t// Variable which will be used for storing response\r\n\tlet response = null;\r\n\r\n\treturn (\r\n\t\tfetch(url, options)\r\n\t\t\t.then(responseObject => {\r\n\t\t\t\t// Saving response for later use in lower scopes\r\n\t\t\t\tresponse = responseObject;\r\n\r\n\t\t\t\t// HTTP unauthorized\r\n\t\t\t\t/* if (response.status === 401) {\r\n          // Handle unauthorized requests\r\n          // Maybe redirect to login page?\r\n        } */\r\n\r\n\t\t\t\t// Check for error HTTP error codes\r\n\t\t\t\tif (response.status < 200 || response.status >= 300) {\r\n\t\t\t\t\t// Get response as text\r\n\t\t\t\t\treturn response.text();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Get response as json\r\n\t\t\t\treturn response.json();\r\n\t\t\t})\r\n\t\t\t// \"parsedResponse\" will be either text or javascript object depending if\r\n\t\t\t// \"response.text()\" or \"response.json()\" got called in the upper scope\r\n\t\t\t.then(parsedResponse => {\r\n\t\t\t\t// Check for HTTP error codes\r\n\t\t\t\tif (response.status < 200 || response.status >= 300) {\r\n\t\t\t\t\t// Throw error\r\n\t\t\t\t\tthrow parsedResponse;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Request succeeded\r\n\t\t\t\treturn parsedResponse;\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\t// Throw custom API error\r\n\t\t\t\t// If response exists it means HTTP error occured\r\n\t\t\t\tif (response) {\r\n\t\t\t\t\tthrow new ApiError(\r\n\t\t\t\t\t\t`Request failed with status ${response.status}.`,\r\n\t\t\t\t\t\terror,\r\n\t\t\t\t\t\tresponse.status\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new ApiError(error.toString(), null, 'REQUEST_FAILED');\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t);\r\n};\r\n\r\nconst get = (path, params = {}) => {\r\n\treturn fetchResource(path, { params, method: 'get' });\r\n};\r\n\r\nconst post = (path, body = {}) => {\r\n\treturn fetchResource(path, { body, method: 'post' });\r\n};\r\n\r\nconst put = (path, body = {}) => {\r\n\treturn fetchResource(path, { body, method: 'put' });\r\n};\r\n\r\nexport default fetchResource;\r\n\r\nexport { get, post, put };\r\n","import {get, post} from './api';\r\n\r\nconst mediawiki = {\r\n\t/* getArticleText: (title) => get('https://lv.wikipedia.org/w/api.php',{\r\n\t\taction: \"parse\",\r\n\t\torigin: '*',\r\n\t\tformat: \"json\",\r\n\t\tpage: title,\r\n\t\tredirects: 1,\r\n\t\tprop: \"text\"//|langlinks|links|revid|iwlinks\r\n\t}), */\r\n\r\n\tlinksHere: (title) => get('https://lv.wikipedia.org/w/api.php',{\r\n\t\taction: \"query\",\r\n\t\torigin: '*',\r\n\t\tformat: \"json\",\r\n\t\tprop: \"linkshere\",\r\n\t\ttitles: title,\r\n\t\tlhprop: 'title',\r\n\t\tlhnamespace: '0',\r\n\t\tlhlimit: 'max',\r\n\t\tformatversion: '2'\r\n\t}),\r\n\r\n\topenSearch: (lang, title) => get(`https://${lang}.wikipedia.org/w/api.php`,{\r\n\t\taction: \"opensearch\",\r\n\t\torigin: '*',\r\n\t\tformat: \"json\",\r\n\t\tformatversion: 2,\r\n\t\tsearch: title,\r\n\t\tnamespace: 0,\r\n\t\tlimit: 10,\r\n\t\tsuggest: true\r\n\t}),\r\n\r\n\t/*\r\n\r\n\tdeleteLog: (title) => get(`https://lv.wikipedia.org/w/api.php`,{\r\n\t\taction: \"query\",\r\n\t\torigin: '*',\r\n\t\tformat: \"json\",\r\n\t\tlist: 'logevents',\r\n\t\tletype: 'delete',\r\n\t\tletitle: title\r\n\t}),\r\n\r\n\tpageviews: (article, from, to) => get(`https://wikimedia.org/api/rest_v1/metrics/pageviews/per-article/lv.wikipedia/all-access/user/${article.replace(/ /g,'_')}/daily/${from}00/${to}00`),\r\n\r\n\tsummary: (lang, article) => get(`https://${lang}.wikipedia.org/api/rest_v1/page/summary/${article.replace(/ /g,'_')}`), */\r\n}\r\n\r\nconst tool = {\r\n\tnextArticle: () => get('',{\r\n\t\taction: 'next_suggestion'\r\n\t}),\r\n\r\n\tsaveArticle: (title, message) => post('',{\r\n\t\taction: 'save_action',\r\n\t\ttitle, message\r\n\t}),\r\n\r\n\tredirect: (from, to) => post('',{\r\n\t\taction: 'redirect',\r\n\t\tfrom, to\r\n\t}),\r\n}\r\n\r\nconst apiWrapper = {\r\n\tmediawiki,\r\n\ttool\r\n}\r\n\r\nexport default apiWrapper;\r\n","import React, { Component, Fragment } from 'react';\r\nimport api from '../../api/methods';\r\nimport { toast } from 'react-toastify';\r\nvar Diff = require('text-diff');\r\n\r\nrequire('./style.css');\r\n\r\nconst titleForURL = (title) => title.replace(/ /g, '_');\r\nconst formattedTitle = (title) => title.replace(/_/g, ' ');\r\n\r\nconst maxSaves = 5;\r\n\r\nconst getTextDiff = (first, second) => {\r\n\tvar diff = new Diff({ timeout: 1 }); // options may be passed to constructor; see below\r\n\tvar textDiff = diff.main(first, second); // produces diff array\r\n\treturn diff.prettyHtml(textDiff); // produces a formatted HTML string\r\n};\r\n\r\nconst articleLink = (title) => (\r\n\t<a\r\n\t\thref={`https://lv.wikipedia.org/wiki/${titleForURL(title)}`}\r\n\t\ttarget='_blank'\r\n\t\trel='noopener noreferrer'>\r\n\t\t{title}\r\n\t</a>\r\n);\r\n\r\nclass Suggestion extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tsuggestion: null,\r\n\t\t\ttargets: [],\r\n\t\t\tsearch: [],\r\n\t\t\tloading: false,\r\n\t\t\terror: false,\r\n\t\t\tsaving: false,\r\n\t\t\tpreviews: {},\r\n\t\t\twhatLinksHere: [],\r\n\t\t\tsaves: 0,\r\n\t\t};\r\n\t}\r\n\r\n\tinit = () => {\r\n\t\tthis.setState({ loading: true });\r\n\r\n\t\tapi.tool\r\n\t\t\t.nextArticle()\r\n\t\t\t.then((res) => {\r\n\t\t\t\tlet { suggestion, targets } = res;\r\n\r\n\t\t\t\tsuggestion = formattedTitle(suggestion);\r\n\t\t\t\ttargets = targets.map((entry) => formattedTitle(entry));\r\n\r\n\t\t\t\tthis.setState({ suggestion, targets });\r\n\r\n\t\t\t\tthis.setLinks(suggestion);\r\n\t\t\t\tthis.setSearch(suggestion);\r\n\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tthis.setState({ error: true });\r\n\t\t\t})\r\n\t\t\t.finally(() => {\r\n\t\t\t\tthis.setState({ loading: false });\r\n\t\t\t});\r\n\t};\r\n\r\n\tsetLinks = (title) => {\r\n\t\tapi.mediawiki.linksHere(title).then((res) => {\r\n\t\t\tconst { query } = res;\r\n\r\n\t\t\tconst page = query.pages[0];\r\n\r\n\t\t\tif (!('missing' in page)) {\r\n\t\t\t\tthis.saveData('not redlink', false);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (!('linkshere' in page)) {\r\n\t\t\t\tthis.saveData('no links', false);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst links = page['linkshere'].map((article) => article.title);\r\n\r\n\t\t\tthis.setState({ whatLinksHere: links });\r\n\t\t});\r\n\t};\r\n\r\n\tsetSearch = (title) => {\r\n\t\tapi.mediawiki.openSearch('lv', title).then((res) => {\r\n\t\t\tconst [___, results, _, __] = res;\r\n\r\n\t\t\tthis.setState({ search: results });\r\n\t\t});\r\n\t};\r\n\r\n\tsaveData = (message = '', toast = true) => {\r\n\t\tthis.setState({ saving: true });\r\n\r\n\t\tapi.tool\r\n\t\t\t.saveArticle(this.state.suggestion, message)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 'ok' && toast) {\r\n\t\t\t\t\ttoast.success(`Darbība rakstam \"${this.state.suggestion}\" saglabāta`, {\r\n\t\t\t\t\t\tautoClose: 3000,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (res.status !== 'ok') {\r\n\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\ttoast.warn(`Neveiksmīga saglabāšana: ${res.message}`, { autoClose: 7500 });\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\t//toast.warn(`Neveiksmīga saglabāšana: ${err}`, { autoClose: 7500 });\r\n\t\t\t})\r\n\t\t\t.finally(() => {\r\n\t\t\t\tthis.setState({ saving: false }, () => {\r\n\t\t\t\t\t/* if (this.state.saves < maxSaves) {\r\n\t\t\t\t\tthis.setState(prevState => ({\r\n\t\t\t\t\t\tsaves: prevState.saves+1\r\n\t\t\t\t\t})) */\r\n\t\t\t\t\tthis.init();\r\n\t\t\t\t\t//}\r\n\t\t\t\t\t//\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tcreateRedirect = (title) => {\r\n\t\tconsole.log(title);\r\n\r\n\t\tthis.setState({ saving: true });\r\n\r\n\t\tapi.tool\r\n\t\t\t.redirect(this.state.suggestion, title)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.status === 'ok' && toast) {\r\n\t\t\t\t\ttoast.success(`Darbība rakstam \"${this.state.suggestion}\" saglabāta`, {\r\n\t\t\t\t\t\tautoClose: 3000,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (res.status !== 'ok') {\r\n\t\t\t\t\ttoast.warn(`Neveiksmīga saglabāšana: ${res.message}`, { autoClose: 7500 });\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\t//toast.warn(`Neveiksmīga saglabāšana: ${err}`, { autoClose: 7500 });\r\n\t\t\t})\r\n\t\t\t.finally(() => {\r\n\t\t\t\tthis.setState({ saving: false }, () => {\r\n\t\t\t\t\t/* if (this.state.saves < maxSaves) {\r\n\t\t\t\t\tthis.setState(prevState => ({\r\n\t\t\t\t\t\tsaves: prevState.saves+1\r\n\t\t\t\t\t})) */\r\n\t\t\t\t\tthis.init();\r\n\t\t\t\t\t//}\r\n\t\t\t\t\t//\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { suggestion, targets, loading, error, saving, whatLinksHere, search } = this.state;\r\n\r\n\t\tif (suggestion === null || loading) {\r\n\t\t\treturn '';\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div style={{ display: 'flex', flexDirection: 'row' }}>\r\n\t\t\t\t<div style={{ display: 'flex', flexDirection: 'column', minWidth: '250px' }}>\r\n\t\t\t\t\t<button type='button' className='btn btn-outline-primary' onClick={this.init}>\r\n\t\t\t\t\t\tCits kandidāts\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\tclassName='btn btn-outline-success'\r\n\t\t\t\t\t\tonClick={() => this.saveData('done')}>\r\n\t\t\t\t\t\tSalabots\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\tclassName='btn btn-outline-danger'\r\n\t\t\t\t\t\tonClick={() => this.saveData('delete')}>\r\n\t\t\t\t\t\tNav jālabo\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style={{ marginLeft: '3vw' }}>\r\n\t\t\t\t\t<h3>\r\n\t\t\t\t\t\t&quot;\r\n\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\thref={`https://lv.wikipedia.org/wiki/Special:WhatLinksHere/${titleForURL(\r\n\t\t\t\t\t\t\t\tsuggestion\r\n\t\t\t\t\t\t\t)}`}\r\n\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\trel='noopener noreferrer'>\r\n\t\t\t\t\t\t\t{formattedTitle(suggestion)}\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t&quot;{' '}\r\n\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\thref={`https://lv.wikipedia.org/w/index.php?title=${titleForURL(\r\n\t\t\t\t\t\t\t\t\tsuggestion\r\n\t\t\t\t\t\t\t\t)}&action=edit`}\r\n\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\trel='noopener noreferrer'>\r\n\t\t\t\t\t\t\t\tlabot\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t</small>\r\n\t\t\t\t\t</h3>\r\n\t\t\t\t\t<h4>Kandidātlapas</h4>\r\n\t\t\t\t\t<div style={{ display: 'flex', flexDirection: 'row', flexWrap: 'wrap' }}>\r\n\t\t\t\t\t\t{targets.map((target) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div className='card' key={target}>\r\n\t\t\t\t\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t\t\t\t\t<h5 className='card-title'>{articleLink(target)}</h5>\r\n\t\t\t\t\t\t\t\t\t\t<div dangerouslySetInnerHTML={{__html: getTextDiff(target, suggestion)}} />\r\n\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\thref='#'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='card-link'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.createRedirect(target)}>\r\n\t\t\t\t\t\t\t\t\t\t\tIzveidot pāradresāciju\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{search.length > 0 && (<>\r\n\t\t\t\t\t<h4>Meklēšanas rezultāti</h4>\r\n\t\t\t\t\t<div style={{ display: 'flex', flexDirection: 'row', flexWrap: 'wrap' }}>\r\n\t\t\t\t\t\t{search.map((target) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div className='card' key={target}>\r\n\t\t\t\t\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t\t\t\t\t<h5 className='card-title'>{articleLink(target)}</h5>\r\n\t\t\t\t\t\t\t\t\t\t<div dangerouslySetInnerHTML={{__html: getTextDiff(target, suggestion)}} />\r\n\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\thref='#'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='card-link'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.createRedirect(target)}>\r\n\t\t\t\t\t\t\t\t\t\t\tIzveidot pāradresāciju\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</div></>)}\r\n\t\t\t\t\t{whatLinksHere.length > 0 && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<h4>Saites uz šo lapu</h4>\r\n\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t{whatLinksHere.map((link) => (\r\n\t\t\t\t\t\t\t\t\t<li key={link}>\r\n\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\thref={`https://lv.wikipedia.org/wiki/${titleForURL(\r\n\t\t\t\t\t\t\t\t\t\t\t\tlink\r\n\t\t\t\t\t\t\t\t\t\t\t)}`}\r\n\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\trel='noopener noreferrer'>\r\n\t\t\t\t\t\t\t\t\t\t\t{link}\r\n\t\t\t\t\t\t\t\t\t\t</a>{' '}\r\n\t\t\t\t\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\thref={`https://lv.wikipedia.org/w/index.php?title=${titleForURL(\r\n\t\t\t\t\t\t\t\t\t\t\t\tlink\r\n\t\t\t\t\t\t\t\t\t\t\t)}&action=edit`}\r\n\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\trel='noopener noreferrer'>\r\n\t\t\t\t\t\t\t\t\t\t\tlabot\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Suggestion;\r\n","import React from 'react';\r\nimport Suggestion from '../Suggestion';\r\n\r\nconst mainCom = () => {\r\n\treturn <div style={{padding: '2vh'}}>\r\n\t\t<Suggestion />\r\n\t</div>;\r\n}\r\n\r\nexport default mainCom;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types'\r\n\r\nexport default class ErrorBoundary extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { error: null, errorInfo: null };\r\n\t}\r\n\r\n\tcomponentDidCatch(error, errorInfo) {\r\n\t\tthis.setState({\r\n\t\t\terror,\r\n\t\t\terrorInfo\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.state.errorInfo) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className='bodyWrapper'>\r\n\t\t\t\t\t<h2>Notika kļūda, ielādējot lapu!</h2>\r\n\t\t\t\t\t<details style={{ whiteSpace: 'pre-wrap' }}>\r\n\t\t\t\t\t\t{this.state.error && this.state.error.toString()}\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t{this.state.errorInfo.componentStack}\r\n\t\t\t\t\t</details>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn this.props.children;\r\n\t}\r\n}\r\n\r\nErrorBoundary.propTypes = {\r\n\tchildren: PropTypes.node\r\n}\r\n","import { createSlice } from '@reduxjs/toolkit';\r\nimport api from '../../api/methods';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst appSlice = createSlice({\r\n\tname: 'app',\r\n\tinitialState: { isAuth: false, user: null, articles: null, lastArticleDate: null },\r\n\treducers: {\r\n\t\tsetOverview: {\r\n\t\t\treducer(state, action) {\r\n\t\t\t\tconst { count, date } = action.payload;\r\n\t\t\t\treturn { ...state, articles: count, lastArticleDate: date };\r\n\t\t\t},\r\n\t\t\tprepare(count, date) {\r\n\t\t\t\treturn { payload: { count, date } };\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetAuthUser: {\r\n\t\t\treducer(state, action) {\r\n\t\t\t\tconst { user } = action.payload;\r\n\t\t\t\treturn { ...state, user, isAuth: true };\r\n\t\t\t},\r\n\t\t\tprepare(user) {\r\n\t\t\t\treturn { payload: { user } };\r\n\t\t\t}\r\n\t\t},\r\n\t\tlogout: {\r\n\t\t\treducer(state) {\r\n\t\t\t\treturn { ...state, user: null, isAuth: false };\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n});\r\n\r\nconst {\r\n\tsetOverview,\r\n\tsetAuthUser,\r\n\tlogout\r\n} = appSlice.actions;\r\n\r\nconst checkStatus = () => (dispatch, getState) => {\r\n\t//const { id, fetching } = getState().article;\r\n\r\n\tapi.tool.check().then(res => {\r\n\t\tif ('error' in res) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t//const fakeRes = {\"batchcomplete\":\"\",\"query\":{\"userinfo\":{\"id\":9590,\"name\":\"Edgars2007\",\"groups\":[\"bureaucrat\",\"interface-admin\",\"sysop\",\"*\",\"user\",\"autoconfirmed\"],\"rights\":[\"autopatrol\",\"autoconfirmed\",\"editsemiprotected\",\"ipblock-exempt\",\"skipcaptcha\",\"abusefilter-log-detail\",\"flow-edit-post\",\"read\",\"edit\",\"writeapi\",\"abusefilter-view\",\"abusefilter-log\",\"flow-hide\",\"minoredit\",\"purge\",\"applychangetags\",\"changetags\"]}}};\r\n\r\n\t\tconst userName = res.query.userinfo.name;\r\n\r\n\t\tdispatch(setAuthUser(userName));\r\n\r\n\r\n\t\t//console.log(res)\r\n\t\t//{\"article\":{\"id\":\"1947\",\"title\":\"Simona Krupeckaite\"},\"results\":\"5433\",\"last_article\":\"2019-04-02 20:44:00\"}\r\n\r\n\t\t//dispatch(getNextArticle(id, title));\r\n\t});\r\n};\r\n\r\nconst setArticleCount = (count) => (dispatch) => {\r\n\tdispatch(setOverview(count, null));\r\n};\r\n\r\nexport { checkStatus, setArticleCount };\r\n\r\nexport default appSlice.reducer;\r\n","import App from './component';\r\n\r\nexport default App;\r\n","import React, { useEffect } from 'react';\r\nimport MainComp from './main';\r\nimport PropTypes from 'prop-types';\r\nimport ErrorBoundary from './ErrorBoundary';\r\nimport { checkStatus } from './appSlice';\r\nimport styles from './styles.module.css';\r\n\r\nimport { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nconst App = () => {\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t\t<ErrorBoundary>\r\n\t\t\t\t\t<MainComp />\r\n\t\t\t\t</ErrorBoundary>\r\n\t\t\t\t<ToastContainer\r\n\t\t\t\t\tposition='bottom-right'\r\n\t\t\t\t\tautoClose={2500}\r\n\t\t\t\t\thideProgressBar={false}\r\n\t\t\t\t\tnewestOnTop={false}\r\n\t\t\t\t\tcloseOnClick\r\n\t\t\t\t\trtl={false}\r\n\t\t\t\t\tpauseOnVisibilityChange\r\n\t\t\t\t\tdraggable={false}\r\n\t\t\t\t\tpauseOnHover\r\n\t\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default App;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\nimport api from '../../api/methods';\r\nimport {setArticleCount } from '../App/appSlice';\r\nimport { toast } from 'react-toastify';\r\n\r\n//https://github.com/iamhosseindhv/notistack\r\n\r\nconst articleSlice = createSlice({\r\n\tname: 'article',\r\n\tinitialState: { id: 0, title: null, fetching: false, saving: false, fromList: false },\r\n\treducers: {\r\n\t\tgetNextArticle: {\r\n\t\t\treducer(state, action) {\r\n\t\t\t\tconst { id, title } = action.payload;\r\n\t\t\t\t//console.log(id, title);\r\n\t\t\t\treturn { ...state, id, title, fetching: false };\r\n\t\t\t},\r\n\t\t\tprepare(id, title) {\r\n\t\t\t\treturn { payload: { id, title } };\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetFetchStart: {\r\n\t\t\treducer(state) {\r\n\t\t\t\treturn { ...state, fetching: true };\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetComingFromArticleList: {\r\n\t\t\treducer(state, action) {\r\n\t\t\t\tconst { newState } = action.payload;\r\n\t\t\t\treturn { ...state, fromList: newState };\r\n\t\t\t},\r\n\t\t\tprepare(newState) {\r\n\t\t\t\treturn { payload: { newState } };\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetSaveProcess: {\r\n\t\t\treducer(state) {\r\n\t\t\t\treturn { ...state, saving: !state.saving };\r\n\t\t\t}\r\n\t\t},\r\n\t\tresetCounter: {\r\n\t\t\treducer(state) {\r\n\t\t\t\treturn { id: 0, title: null, fetching: false, saving: false, fromList: false };\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetTitle: {\r\n\t\t\treducer(state, action) {\r\n\t\t\t\tconst { title } = action.payload;\r\n\t\t\t\t//console.log(id, title);\r\n\t\t\t\treturn { ...state, title };\r\n\t\t\t},\r\n\t\t\tprepare(title) {\r\n\t\t\t\treturn { payload: { title } };\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\nconst {\r\n\tgetNextArticle,\r\n\tsetFetchStart,\r\n\tsetSaveProcess,\r\n\tresetCounter,\r\n\tsetTitle,\r\n\tsetComingFromArticleList\r\n} = articleSlice.actions;\r\n\r\nconst fetchNextArticle = (mode, optID = null) => (dispatch, getState) => {\r\n\tconst { id, fetching } = getState().article;\r\n\r\n\tif (fetching) {\r\n\t\tconsole.error('Already fetching');\r\n\t\treturn;\r\n\t}\r\n\r\n\tdispatch(setFetchStart(true));\r\n\tapi.tool.nextArticle(optID || id, mode).then(res => {\r\n\t\t//{\"article\":{\"id\":\"1947\",\"title\":\"Simona Krupeckaite\"},\"results\":\"5433\",\"last_article\":\"2019-04-02 20:44:00\"}\r\n\r\n\t\tconst {article: {id, title}, results} = res;\r\n\r\n\t\tdispatch(getNextArticle(id, title));\r\n\t\tdispatch(setArticleCount(parseInt(results)));\r\n\t});\r\n};\r\n\r\nconst saveArticle = (articleID = null, articleTitle = null, fetchNext = true) => (\r\n\tdispatch,\r\n\tgetState\r\n) => {\r\n\t//let id, title;\r\n\r\n\tif (articleID === null) {\r\n\t\tvar { id, title } = getState().article;\r\n\t} else {\r\n\t\tvar [id, title] = [articleID, articleTitle];\r\n\t}\r\n\r\n\tdispatch(setSaveProcess(true));\r\n\tapi.tool\r\n\t\t.saveArticle(id)\r\n\t\t.then(res => {\r\n\t\t\tdispatch(setSaveProcess(false));\r\n\t\t\tif (res.status === 'error') {\r\n\t\t\t\ttoast.warn(`Neveiksmīga saglabāšana: ${res.message}`, { autoClose: 7500 });\r\n\t\t\t} else {\r\n\t\t\t\ttoast.success(`Darbība rakstam \"${title}\" saglabāta`, { autoClose: 3000 });\r\n\t\t\t\tif (fetchNext) {\r\n\t\t\t\t\t//if called from article list, there is no need to fetch next article\r\n\t\t\t\t\tdispatch(fetchNextArticle('next'));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar {articles } = getState().app;\r\n\t\t\t\t\tdispatch(setArticleCount(articles-1));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(err => {\r\n\t\t\tdispatch(setSaveProcess(false));\r\n\t\t\ttoast.warn(`Neveiksmīga saglabāšana`, { autoClose: 7500 });\r\n\t\t});\r\n};\r\n\r\nconst putArticleInQueqe = (comment = null) => (dispatch, getState) => {\r\n\tconst { id, title } = getState().article;\r\n\r\n\tdispatch(setSaveProcess(true));\r\n\tapi.tool\r\n\t\t.putArticleInQueqe(id, comment)\r\n\t\t.then(res => {\r\n\t\t\tdispatch(setSaveProcess(false));\r\n\t\t\tif (res.status === 'error') {\r\n\t\t\t\ttoast.warn(`Neveiksmīga saglabāšana: ${res.message}`, { autoClose: 7500 });\r\n\t\t\t} else {\r\n\t\t\t\ttoast.success(`Darbība rakstam \"${title}\" saglabāta`, { autoClose: 3000 });\r\n\t\t\t\tdispatch(fetchNextArticle('next'));\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(err => {\r\n\t\t\tdispatch(setSaveProcess(false));\r\n\t\t\ttoast.warn(`Neveiksmīga saglabāšana: ${err}`, { autoClose: 7500 });\r\n\t\t});\r\n};\r\n\r\nconst resetID = () => dispatch => {\r\n\tdispatch(resetCounter());\r\n};\r\n\r\nconst updateArticleTitle = newTitle => dispatch => {\r\n\tdispatch(setTitle(newTitle));\r\n};\r\n\r\nconst settingFromArticleList = (newValue) => dispatch => {\r\n\tdispatch(setComingFromArticleList(newValue));\r\n}\r\n\r\nexport { fetchNextArticle, saveArticle, putArticleInQueqe, resetID, updateArticleTitle, settingFromArticleList };\r\n\r\nexport default articleSlice.reducer;\r\n","import { combineReducers } from 'redux'\r\nimport articleReducer from './components/Article/articleSlice'\r\nimport appReducer from './components/App/appSlice'\r\n\r\nexport default combineReducers({\r\n  article: articleReducer,\r\n  app: appReducer\r\n})\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from \"react-redux\";\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport { configureStore } from '@reduxjs/toolkit'\r\n\r\nimport App from './components/App/container';\r\n\r\nimport rootReducer from './reducer';\r\n\r\nconst store = configureStore({\r\n\treducer: rootReducer,\r\n});\r\n\r\nReactDOM.render(<Provider store={store}>\r\n\t<App />\r\n</Provider>, document.getElementById('app'));\r\n"],"sourceRoot":""}