(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{154:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(34),i=a.n(s),r=(a(89),a(7)),c=a(8),o=a(11),d=a(9),u=a(10),m=(a(91),a(56)),h=a(75),p=a(37),v=a(157),g=a(155),b=a(156),E=a(43),f=(n.Component,n.Component,function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props;e.isLogged,e.userName;return l.a.createElement(g.a,null,l.a.createElement(b.a,null,l.a.createElement(E.IndexLinkContainer,{to:"/"},l.a.createElement(v.a,null,"CCM")),l.a.createElement(E.LinkContainer,{to:"/new/organization"},l.a.createElement(v.a,null,"Add organization")),l.a.createElement(E.LinkContainer,{to:"/new/item"},l.a.createElement(v.a,null,"Add item"))))}}]),t}(n.Component)),y=a(20),C=a(22),O=a(13),k=a(5),j=function(e){return l.a.createElement("div",{className:e.inputClass},l.a.createElement("input",{className:"form-control",id:e.name,name:e.name,type:e.type||"text",value:null===e.value?"":e.value,onChange:e.handleChange,placeholder:e.placeholder}))},D=function(e){return l.a.createElement("label",{htmlFor:e.name,className:"control-label "+e.labelClass},e.title," ",e.required?l.a.createElement("span",{className:"required"},"*"):"")},w=function(e){return l.a.createElement("div",{className:e.selectClass},l.a.createElement("select",{className:"form-control",name:e.name,value:e.value,onChange:e.handleChange,disabled:e.disabled},l.a.createElement("option",{value:"",disabled:!0},e.placeholder),e.options.map(function(e){return l.a.createElement("option",{key:e.value,value:e.value,label:e.label},e.label)})))},S=function(e){return l.a.createElement("div",{className:e.selectClass},l.a.createElement("select",{className:"form-control",name:e.name,value:e.value?e.value:"",onChange:e.handleChange,disabled:e.disabled},l.a.createElement("option",{value:"",disabled:!0},e.placeholder),e.options.map(function(e){return l.a.createElement("option",{key:e.value,value:e.value,label:e.label},e.label)})))},N=function(e){return l.a.createElement("div",{className:e.checkClass},l.a.createElement("input",{name:e.name,type:"checkbox",checked:e.value,onChange:e.handleChange}))},x=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.textPlaceholders,a=e.capacity;return l.a.createElement("div",null,l.a.createElement("h2",null,t.title," ",l.a.createElement("small",null,"(",t.category,")")),l.a.createElement("h3",null,"Description"),l.a.createElement("br",null),l.a.createElement("div",{className:"desc"},l.a.createElement("i",null,"Description"),": ",t.description),l.a.createElement("br",null),l.a.createElement("div",{className:"relevant"},l.a.createElement("i",null,"Who is this relevant to"),": ",t.relevant),l.a.createElement("br",null),"Scores:",l.a.createElement("table",{className:"table table-striped  table-bordered table-sm"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col",style:{textAlign:"center"}},"Capacity level"),l.a.createElement("th",{scope:"col",style:{textAlign:"center"}},"Description"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"none"),l.a.createElement("td",{className:1===a?"table-success":""},t.desc_none?t.desc_none:"")),l.a.createElement("tr",null,l.a.createElement("td",null,"low"),l.a.createElement("td",{className:2===a?"table-success":""},t.desc_low?t.desc_low:"")),l.a.createElement("tr",null,l.a.createElement("td",null,"medium"),l.a.createElement("td",{className:3===a?"table-success":""},t.desc_med?t.desc_med:"")),l.a.createElement("tr",null,l.a.createElement("td",null,"high"),l.a.createElement("td",{className:4===a?"table-success":""},t.desc_high?t.desc_high:"")))))}}]),t}(n.Component),I=a(42),_=(a(73),{0:"N/A",1:"none",2:"low",3:"medium",4:"high"}),z={0:"N/A",1:"none",2:"low",3:"medium",4:"high"},H=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.data;return l.a.createElement("div",null,l.a.createElement("h3",null,"Data history"),l.a.createElement(I.a,{data:e,columns:[{Header:"Edit time",accessor:"add_time"},{Header:"Capacity",accessor:function(e){return _[e.capacity]},id:"capacity"},{Header:"Robustness",accessor:function(e){return z[e.robustness]},id:"robustness"},{Header:"Irrelevant?",accessor:"irrelevant"},{Header:"User",accessor:function(e){return e.user},id:"user"}],showPagination:!0,defaultPageSize:10,defaultSorted:[{id:"add_time",desc:!0}],minRows:0,className:"-striped -highlight"}))}}]),t}(n.Component),T=a(52),P=a.n(T),B=a(82),A="//tools.wmflabs.org/edgars/ccm/api/public/",L={fetch:function(e){function t(t,a){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=Object(B.a)(P.a.mark(function e(t,a){var n,l,s,i;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return A!==t.substr(0,A.length)&&(t=A+t),n={Accept:"application/json","Content-Type":"application/json"},(a=Object.assign({},{method:"get",headers:n},a||{})).method=a.method.toLowerCase(),"post"!==a.method&&"put"!==a.method||void 0===a.body||(a.body=JSON.stringify(a.body)),e.next=7,fetch(t,a);case 7:if(l=e.sent,s=null,null,!(i=l.headers.get("Content-Type"))||-1===i.indexOf("application/json")){e.next=17;break}return e.next=14,l.json();case 14:s=e.sent,e.next=20;break;case 17:return e.next=19,l.text();case 19:s=e.sent;case 20:e.t0=l.status,e.next=200===e.t0?23:201===e.t0?23:502===e.t0?24:401===e.t0?26:27;break;case 23:return e.abrupt("break",29);case 24:return s,e.abrupt("break",29);case 26:return e.abrupt("break",29);case 27:return s||l.statusText,e.abrupt("break",29);case 29:return e.abrupt("return",s);case 30:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()),get:function(e){return this.fetch(e,{method:"get"})},post:function(e,t){return this.fetch(e,{method:"post",body:t})},put:function(e,t){return this.fetch(e,{method:"put",body:t})},delete:function(e,t){return this.fetch(e,{method:"delete",body:t})}},M={saveItem:function(e){return L.post("save_item",e)},saveOrganization:function(e){return L.post("save_organization",e)},getOrganization:function(e){return L.get("organization/".concat(e))},overview:function(){return L.get("overview")},getItem:function(e,t,a,n){return L.get("item/next/".concat(t,"/").concat(e,"/").concat(a,"/").concat(n))},getSpecific:function(e,t){return L.get("item/".concat(e,"/").concat(t))},saveData:function(e,t,a){return L.post("rating/".concat(e,"/").concat(t),a)}},R={0:"N/A",1:"none",2:"low",3:"medium",4:"high"},U={0:"N/A",1:"none",2:"low",3:"medium",4:"high"},W=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).state={initialData:{},itemId:0,textPlaceholders:{},capacity:null,robustness:null,dataHistory:[],irrelevant:!1,nextMode:"next",toSaveData:{},loadingData:!0},a.saveToDB=a.saveToDB.bind(Object(O.a)(Object(O.a)(a))),a.handleSkip=a.handleSkip.bind(Object(O.a)(Object(O.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e,t){var a="checkbox"===t.target.type?t.target.checked:parseInt(t.target.value),n=Object(C.a)({},this.state.toSaveData);n[e]=a,this.setState({toSaveData:n}),this.setState(Object(y.a)({},e,a))}},{key:"handleSkip",value:function(){this.setup()}},{key:"setup",value:function(){var e=this;M.getItem(this.state.organizationId,this.state.itemId,"next","unrated").then(function(t){var a,n,l,s;"error"===t.desc.status&&(console.log("itemId"),s=0),"ok"===t.rating.status?(console.log("iiiiii",t.desc.data.id),s=t.desc.data.id,a=null===t.rating.data.capacity?0:t.rating.data.capacity,n=null===t.rating.data.robustness?0:t.rating.data.robustness,l=null!==t.rating.data.irrelevant&&t.rating.data.irrelevant):(s="undefined"!==typeof t.desc.data?t.desc.data.id:0,a=0,n=0,l=!1,console.log(t.desc));var i="ok"===t.history.status?t.history.data:[];e.setState({loadingData:!1,itemId:s,toSaveData:{},dataHistory:i,textPlaceholders:t.desc.data?t.desc.data:{},capacity:a,robustness:n,irrelevant:l,initialData:{capacity:a,robustness:n,irrelevant:l}})})}},{key:"saveToDB",value:function(e){e.preventDefault();var t=this,a=this.state,n=a.toSaveData,l=a.initialData,s=a.capacity,i=a.robustness;if(0===Object.keys(n).length)return k.toast.info("Data was not changed"),void console.log("nav ko saglab\u0101t");var r={};for(var c in n)n[c]!==l[c]&&(r[c]=n[c]);if(0!==Object.keys(r).length){if(console.log("to save",r),"irrelevant"in r&&!0===r.irrelevant&&("capacity"in r||"robustness"in r)&&(console.log("here"),r=Object.assign({},{irrelevant:r.irrelevant})),console.log("here2",r),"capacity"in r||"robustness"in r)if([s,i].some(function(e){return 0===e})&&s+i>0)return void k.toast.info("Have to fill both capacity and robustness");M.saveData(this.state.organizationId,this.state.itemId,r).then(function(e){console.log(e),t.setup(),window.scrollTo(0,0),k.toast.success("Saved data!")})}else k.toast.info("Data was not changed")}},{key:"componentDidMount",value:function(){var e=this;this.setState({organizationId:this.props.organization},function(){return e.setup()})}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.organization!==e.organization&&this.setState({organizationId:this.props.organization},function(){return t.setup()})}},{key:"render",value:function(){var e=this.state,t=e.textPlaceholders,a=e.dataHistory,n=e.irrelevant,s=e.loadingData,i=!!n;return l.a.createElement("div",{className:"container"},s?l.a.createElement("div",null,"Data is loading"):l.a.createElement("div",null,Object.keys(t).length>0?l.a.createElement("div",null,l.a.createElement(x,{id:this.state.itemId,textPlaceholders:t,capacity:this.state.capacity}),a.length>0?l.a.createElement(H,{data:a}):"",l.a.createElement("h3",null,"Edit data"),l.a.createElement("form",null,l.a.createElement("div",{className:"row"},l.a.createElement(D,{labelClass:"col-sm-2",title:"This isn't relevant for us",name:"irrelevant"}),l.a.createElement(N,{checkClass:"col-sm-4",name:"irrelevant",value:this.state.irrelevant,handleChange:this.handleChange.bind(this,"irrelevant")})),l.a.createElement("div",{className:"row"},l.a.createElement(D,{labelClass:"col-sm-2",title:"Your capacity",name:"capacity"}),l.a.createElement(w,{disabled:i,selectClass:"col-sm-4",name:"capacity",placeholder:"Select value",value:this.state.capacity,handleChange:this.handleChange.bind(this,"capacity"),options:Object.entries(R).map(function(e){return{value:e[0],label:e[1]}})})),l.a.createElement("div",{className:"row"},l.a.createElement(D,{labelClass:"col-sm-2",title:"Your robustness",name:"robustness"}),l.a.createElement(w,{disabled:i,selectClass:"col-sm-4",name:"robustness",placeholder:"Select value",value:this.state.robustness,handleChange:this.handleChange.bind(this,"robustness"),options:Object.entries(U).map(function(e){return{value:e[0],label:e[1]}})}))),l.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.saveToDB},"Save!"),l.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.handleSkip},"Skip")):l.a.createElement("div",null,"No data to show, everything is filled")))}}]),t}(n.Component),Y={0:"N/A",1:"none",2:"low",3:"medium",4:"high"},J={0:"N/A",1:"none",2:"low",3:"medium",4:"high"},q=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).state={initialData:{},itemId:0,textPlaceholders:{},capacity:null,robustness:null,dataHistory:[],irrelevant:!1,nextMode:"next",toSaveData:{},loadingData:!0,errorOnLoad:!1},a.saveToDB=a.saveToDB.bind(Object(O.a)(Object(O.a)(a))),a.handleSkip=a.handleSkip.bind(Object(O.a)(Object(O.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e,t){var a="checkbox"===t.target.type?t.target.checked:parseInt(t.target.value),n=Object(C.a)({},this.state.toSaveData);n[e]=a,this.setState({toSaveData:n}),this.setState(Object(y.a)({},e,a))}},{key:"handleSkip",value:function(){this.setup()}},{key:"setup",value:function(){var e=this;if(console.log("set",this.state.organizationId,this.state.itemId),void 0===this.state.organizationId||void 0===this.state.itemId)return console.log("there"),void this.setState({errorOnLoad:!0,loadingData:!1,toSaveData:{},dataHistory:[],textPlaceholders:{},capacity:0,robustness:0,irrelevant:0,initialData:{capacity:0,robustness:0,irrelevant:0}});M.getSpecific(this.state.organizationId,this.state.itemId).then(function(t){var a,n,l,s;"error"===t.desc.status&&(console.log("itemId"),s=0),"ok"===t.rating.status?(console.log("iiiiii",t.desc.data.id),s=t.desc.data.id,a=null===t.rating.data.capacity?0:t.rating.data.capacity,n=null===t.rating.data.robustness?0:t.rating.data.robustness,l=null!==t.rating.data.irrelevant&&t.rating.data.irrelevant):(s="undefined"!==typeof t.desc.data?t.desc.data.id:0,a=0,n=0,l=!1,console.log(t.desc));var i="ok"===t.history.status?t.history.data:[];e.setState({loadingData:!1,itemId:s,toSaveData:{},dataHistory:i,textPlaceholders:t.desc.data?t.desc.data:{},capacity:a,robustness:n,irrelevant:l,initialData:{capacity:a,robustness:n,irrelevant:l}})})}},{key:"saveToDB",value:function(e){e.preventDefault();var t=this,a=this.state,n=a.toSaveData,l=a.initialData,s=a.capacity,i=a.robustness;if(0===Object.keys(n).length)return k.toast.info("Data was not changed"),void console.log("nav ko saglab\u0101t");var r={};for(var c in n)n[c]!==l[c]&&(r[c]=n[c]);if(0!==Object.keys(r).length){if(console.log("to save",r),"irrelevant"in r&&!0===r.irrelevant&&("capacity"in r||"robustness"in r)&&(console.log("here"),r=Object.assign({},{irrelevant:r.irrelevant})),console.log("here2",r),"capacity"in r||"robustness"in r)if([s,i].some(function(e){return 0===e})&&s+i>0)return void k.toast.info("Have to fill both capacity and robustness");M.saveData(this.state.organizationId,this.state.itemId,r).then(function(e){console.log(e),t.setup(),window.scrollTo(0,0),k.toast.success("Saved data!")})}else k.toast.info("Data was not changed")}},{key:"componentDidMount",value:function(){var e=this;this.setState({organizationId:this.props.match.params.org,itemId:this.props.match.params.item},function(){return e.setup()})}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.match.params.org===e.match.params.org&&this.props.match.params.item===e.match.params.item||(console.log("this.props.match.params.item",this.props.match.params.item),this.setState({organizationId:this.props.match.params.org,itemId:this.props.match.params.item},function(){return t.setup()}))}},{key:"render",value:function(){var e=this.state,t=e.textPlaceholders,a=e.dataHistory,n=e.irrelevant,s=e.loadingData,i=e.errorOnLoad,r=!!n;return l.a.createElement("div",{className:"container"},i?l.a.createElement("div",null,"hei, nezin\u0101mi ID"):l.a.createElement("div",null,s?l.a.createElement("div",null,"Data is loading"):l.a.createElement("div",null,Object.keys(t).length>0?l.a.createElement("div",null,l.a.createElement(x,{id:this.state.itemId,textPlaceholders:t,capacity:this.state.capacity}),a.length>0?l.a.createElement(H,{data:a}):"",l.a.createElement("h3",null,"Edit data"),l.a.createElement("form",null,l.a.createElement("div",{className:"row"},l.a.createElement(D,{labelClass:"col-sm-2",title:"This isn't relevant for us",name:"irrelevant"}),l.a.createElement(N,{checkClass:"col-sm-4",name:"irrelevant",value:this.state.irrelevant,handleChange:this.handleChange.bind(this,"irrelevant")})),l.a.createElement("div",{className:"row"},l.a.createElement(D,{labelClass:"col-sm-2",title:"Your capacity",name:"capacity"}),l.a.createElement(w,{disabled:r,selectClass:"col-sm-4",name:"capacity",placeholder:"Select value",value:this.state.capacity,handleChange:this.handleChange.bind(this,"capacity"),options:Object.entries(Y).map(function(e){return{value:e[0],label:e[1]}})})),l.a.createElement("div",{className:"row"},l.a.createElement(D,{labelClass:"col-sm-2",title:"Your robustness",name:"robustness"}),l.a.createElement(w,{disabled:r,selectClass:"col-sm-4",name:"robustness",placeholder:"Select value",value:this.state.robustness,handleChange:this.handleChange.bind(this,"robustness"),options:Object.entries(J).map(function(e){return{value:e[0],label:e[1]}})}))),l.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.saveToDB},"Save!")):l.a.createElement("div",null,"No data to show"))))}}]),t}(n.Component),F=function(e,t){var a,n;return"4"===e?(a="glyphicon glyphicon-arrow-up",n="high"):"3"===e?(a="glyphicon glyphicon-resize-horizontal",n="medium"):"2"===e?(a="glyphicon glyphicon-arrow-down",n="low"):"1"===e?(a="glyphicon glyphicon-ban-circle",n="none"):"-1"===e&&(a="glyphicon glyphicon-remove-circle",n="N/A"),n=n+" "+t,l.a.createElement("span",{className:a,title:n,"aria-hidden":"true"})},V=function(e,t,a){var n,s;return n=void 0===e?"":null!==e.irrelevant?F("-1",""):l.a.createElement("span",null,F(e.capacity,"capacity")," | ",F(e.robustness,"robustness")),s=void 0===a||void 0===t?"":l.a.createElement("small",null,"(",l.a.createElement("a",{href:"#/rating/".concat(a,"/").concat(t),target:"_blank"},"edit"),")"),l.a.createElement("span",null,n," ",s)},G=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).state={loadingData:!0,loadingError:!1,data:[]},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;M.overview().then(function(t){e.setState({data:t,loadingData:!1})})}},{key:"render",value:function(){var e=this.state.data;return l.a.createElement("div",{className:"container"},this.state.loadingData?l.a.createElement("div",null,"Loading..."):l.a.createElement("div",null,e.length>0?l.a.createElement("div",null,l.a.createElement(I.a,{data:e,columns:[{Header:"Info",columns:[{Header:"Organization",accessor:function(e){return function(e){var t,a=e.link,n=e.title,s=e.id;return t=void 0!==a&&null!==a?l.a.createElement("a",{href:a,target:"_blank"},n):n,l.a.createElement("span",null,t," ",l.a.createElement("small",null,"(",l.a.createElement("a",{href:"#/organization/".concat(s),target:"_blank"},"edit"),")"))}(e.details)},id:"title",style:{whiteSpace:"normal"}}]},{Header:"Communications and media relations",columns:[{Header:"Social media",accessor:function(e){return l.a.createElement("span",null,V(e.ratings[1],1,e.details.id))},id:"soc_media"},{Header:"Press",accessor:function(e){return l.a.createElement("span",null,V(e.ratings[2],2,e.details.id))},id:"press"}]},{Header:"Community Health",columns:[{Header:"Conflict Resolution",accessor:function(e){return l.a.createElement("span",null,V(e.ratings[8],8,e.details.id))},id:"conflict"},{Header:"Abuse and Harassment Control",accessor:function(e){return l.a.createElement("span",null,V(e.ratings[9],9,e.details.id))},id:"abuse"},{Header:"Tools",accessor:function(e){return l.a.createElement("span",null,V(e.ratings[10],10,e.details.id))},id:"tools"},{Header:"Regular newbie-friendly in-person events",accessor:function(e){return l.a.createElement("span",null,V(e.ratings[11],11,e.details.id))},id:"newbie",style:{whiteSpace:"normal"}},{Header:"Help and tutorial resources",accessor:function(e){return l.a.createElement("span",null,V(e.ratings[12],12,e.details.id))},id:"help"},{Header:"Recognition",accessor:function(e){return l.a.createElement("span",null,V(e.ratings[13],13,e.details.id))},id:"recognition"},{Header:"OTRS handling",accessor:function(e){return l.a.createElement("span",null,V(e.ratings[14],14,e.details.id))},id:"otrs",style:{whiteSpace:"normal"}}]}],defaultPageSize:10,defaultSorted:[{id:"title",desc:!1}],showPagination:!0,minRows:0,className:"-striped -highlight"}),l.a.createElement("br",null),l.a.createElement("b",null,"Legend"),function(){var e;return e=l.a.createElement("ul",null,l.a.createElement("li",null,F("-1","")," N/A"),l.a.createElement("li",null,F("1","")," none"),l.a.createElement("li",null,F("2","")," low"),l.a.createElement("li",null,F("3","")," medium"),l.a.createElement("li",null,F("4","")," high")),e}()):l.a.createElement("div",null,"No data to show")))}}]),t}(n.Component),K=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).state={posts:[],updated:"",isLoaded:!1,hasError:!1,filter:"",language:"en"},a.handleChange=a.handleChange.bind(Object(O.a)(Object(O.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){this.props.handleFilterChange(e.target.value)}},{key:"setup",value:function(){var e=this,t=this.props.match.params.org;console.log("orgId",t),M.getOrganization(t).then(function(a){"ok"===a.status&&(console.log(),e.setState({title:a.data.name,orgId:t,orgType:a.data.org_type}))})}},{key:"componentDidMount",value:function(){this.setup()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.org!==e.match.params.org&&this.setup()}},{key:"render",value:function(){var e=this.state,t=e.title,a=e.orgType,n=e.orgId;return l.a.createElement("div",{className:"container"},l.a.createElement("h3",null,t," ",l.a.createElement("small",null,"(",a,")")),l.a.createElement("br",null),n?l.a.createElement(W,{organization:this.state.orgId}):"")}}]),t}(n.Component),Q={0:"user group",1:"Wikimedia community",2:"Wikimedia affiliate"},X=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).state={initialData:{},itemId:0,textPlaceholders:{},capacity:null,robustness:null,dataHistory:[],irrelevant:!1,nextMode:"next",toSaveData:{},loadingData:!0},a.saveToDB=a.saveToDB.bind(Object(O.a)(Object(O.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e,t){var a="checkbox"===t.target.type?t.target.checked:t.target.value,n=Object(C.a)({},this.state.toSaveData);n[e]=a,this.setState({toSaveData:n}),this.setState(Object(y.a)({},e,a))}},{key:"saveToDB",value:function(e){e.preventDefault();var t=this,a=this.state,n=a.toSaveData,l=a.initialData;a.capacity,a.robustness;if(0===Object.keys(n).length)return k.toast.info("Data was not changed"),void console.log("nav ko saglab\u0101t");var s={};for(var i in n)n[i]!==l[i]&&(s[i]=n[i]);"type"in s?"title"in s?0!==Object.keys(s).length?M.saveOrganization(s).then(function(e){k.toast.success("Saved data!"),t.setState({title:"",link:"",type:null,initialData:{},toSaveData:{}})}):k.toast.info("Data was not changed"):k.toast.info("Please add title"):k.toast.info("Please select organization type!")}},{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement("h3",null,"Add new organization"),l.a.createElement("form",null,l.a.createElement("div",{className:"row"},l.a.createElement(D,{labelClass:"col-sm-2",title:"Title",name:"title"}),l.a.createElement(j,{inputClass:"col-sm-4",name:"title",value:this.state.title,handleChange:this.handleChange.bind(this,"title"),placeholder:"Wiki loves people user group"})),l.a.createElement("div",{className:"row"},l.a.createElement(D,{labelClass:"col-sm-2",title:"Link",name:"link"}),l.a.createElement(j,{inputClass:"col-sm-4",name:"link",value:this.state.link,handleChange:this.handleChange.bind(this,"link"),placeholder:"https://en.wikipedia.org"})),l.a.createElement("div",{className:"row"},l.a.createElement(D,{labelClass:"col-sm-2",title:"Organization type",name:"type"}),l.a.createElement(S,{selectClass:"col-sm-4",name:"type",placeholder:"Select value",value:this.state.type,handleChange:this.handleChange.bind(this,"type"),options:Object.entries(Q).map(function(e){return{value:e[0],label:e[1]}})}))),l.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.saveToDB},"Save!"))}}]),t}(n.Component),Z=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).state={initialData:{},toSaveData:{}},a.saveToDB=a.saveToDB.bind(Object(O.a)(Object(O.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e,t){var a="checkbox"===t.target.type?t.target.checked:t.target.value,n=Object(C.a)({},this.state.toSaveData);n[e]=a,this.setState({toSaveData:n}),this.setState(Object(y.a)({},e,a))}},{key:"saveToDB",value:function(e){e.preventDefault(),console.log(this.state);var t=this,a=this.state,n=a.toSaveData,l=a.initialData;a.capacity,a.robustness;if(0===Object.keys(n).length)return k.toast.info("Data was not changed"),void console.log("nav ko saglab\u0101t");var s={};for(var i in n)n[i]!==l[i]&&(s[i]=n[i]);"category"in s?"title"in s?0!==Object.keys(s).length?M.saveItem(s).then(function(e){console.log(e),k.toast.success("Saved data!"),t.setState({toSaveData:{},title:"",category:"",description:"",relevant:"",desc_none:"",desc_low:"",desc_med:"",desc_high:"",examples:""})}):k.toast.info("Data was not changed"):k.toast.info("Please add title"):k.toast.info("Please add category")}},{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement("h3",null,"Add new item"),l.a.createElement("form",null,l.a.createElement("div",{className:"row"},l.a.createElement(D,{labelClass:"col-sm-2",title:"Title",name:"title"}),l.a.createElement(j,{inputClass:"col-sm-4",name:"title",value:this.state.title,handleChange:this.handleChange.bind(this,"title"),placeholder:""})),l.a.createElement("div",{className:"row"},l.a.createElement(D,{labelClass:"col-sm-2",title:"Category",name:"category"}),l.a.createElement(j,{inputClass:"col-sm-4",name:"category",value:this.state.category,handleChange:this.handleChange.bind(this,"category"),placeholder:""})),l.a.createElement("div",{className:"row"},l.a.createElement(D,{labelClass:"col-sm-2",title:"Description",name:"description"}),l.a.createElement(j,{inputClass:"col-sm-4",name:"description",value:this.state.description,handleChange:this.handleChange.bind(this,"description"),placeholder:""})),l.a.createElement("div",{className:"row"},l.a.createElement(D,{labelClass:"col-sm-2",title:"Relevant to who?",name:"relevant"}),l.a.createElement(j,{inputClass:"col-sm-4",name:"relevant",value:this.state.relevant,handleChange:this.handleChange.bind(this,"relevant"),placeholder:""})),l.a.createElement("div",{className:"row"},l.a.createElement(D,{labelClass:"col-sm-2",title:"Description to level none",name:"desc_none"}),l.a.createElement(j,{inputClass:"col-sm-4",name:"desc_none",value:this.state.desc_none,handleChange:this.handleChange.bind(this,"desc_none"),placeholder:""})),l.a.createElement("div",{className:"row"},l.a.createElement(D,{labelClass:"col-sm-2",title:"Description to level low",name:"desc_low"}),l.a.createElement(j,{inputClass:"col-sm-4",name:"desc_low",value:this.state.desc_low,handleChange:this.handleChange.bind(this,"desc_low"),placeholder:""})),l.a.createElement("div",{className:"row"},l.a.createElement(D,{labelClass:"col-sm-2",title:"Description to level medium",name:"desc_med"}),l.a.createElement(j,{inputClass:"col-sm-4",name:"desc_med",value:this.state.desc_med,handleChange:this.handleChange.bind(this,"desc_med"),placeholder:""})),l.a.createElement("div",{className:"row"},l.a.createElement(D,{labelClass:"col-sm-2",title:"Description to level high",name:"desc_high"}),l.a.createElement(j,{inputClass:"col-sm-4",name:"desc_high",value:this.state.desc_high,handleChange:this.handleChange.bind(this,"desc_high"),placeholder:""})),l.a.createElement("div",{className:"row"},l.a.createElement(D,{labelClass:"col-sm-2",title:"Examples",name:"examples"}),l.a.createElement(j,{inputClass:"col-sm-4",name:"examples",value:this.state.examples,handleChange:this.handleChange.bind(this,"examples"),placeholder:""}))),l.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.saveToDB},"Save!"))}}]),t}(n.Component),$=(a(152),function(e){var t=e.location;return l.a.createElement("div",null,l.a.createElement("h3",null,"Did not found page for ",l.a.createElement("code",null,t.pathname)))}),ee=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).state={isLoggedIn:!1,userName:null},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(m.a,null,l.a.createElement("div",null,l.a.createElement(f,{isLogged:this.state.isLoggedIn,userName:this.state.userName}),l.a.createElement(h.a,null,l.a.createElement(p.a,{exact:!0,path:"/",component:G}),l.a.createElement(p.a,{exact:!0,path:"/table",component:G}),l.a.createElement(p.a,{exact:!0,path:"/organization/:org",component:K}),l.a.createElement(p.a,{exact:!0,path:"/rating/:org/:item",component:q}),l.a.createElement(p.a,{exact:!0,path:"/new/organization",component:X}),l.a.createElement(p.a,{exact:!0,path:"/new/item",component:Z}),l.a.createElement(p.a,{component:$})),l.a.createElement(k.ToastContainer,{position:"bottom-right",autoClose:2500,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!1,pauseOnHover:!0})))}}]),t}(n.Component);i.a.render(l.a.createElement(ee,null),document.getElementById("root"))},83:function(e,t,a){e.exports=a(154)},89:function(e,t,a){}},[[83,2,1]]]);
//# sourceMappingURL=main.cdc066f1.chunk.js.map